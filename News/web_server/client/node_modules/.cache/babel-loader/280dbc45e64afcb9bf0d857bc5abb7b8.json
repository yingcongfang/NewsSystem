{"ast":null,"code":"var _jsxFileName = \"/Users/litianlun/Projects/News/web_server/client/src/NewsPanel/NewsPanel.js\";\nimport \"./NewsPanel.css\";\nimport React from 'react';\nimport NewsCard from '../NewsCard/NewsCard';\n\nclass NewsPanel extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      news: null\n    };\n  }\n\n  componentDidMount() {\n    this.loadMoreNews();\n  }\n\n  loadMoreNews(e) {\n    let request = new Request('http://localhost:3000/news', {\n      method: 'GET',\n      cache: \"no-store\",\n      mode: \"no-cors\"\n    });\n    fetch(request).then(res => res.json()).then(news => {\n      console.log(news);\n      this.setState({\n        news: this.state.news ? this.state.news.concat(news) : news\n      });\n    });\n  }\n\n  renderNews() {\n    const news_list = this.state.news.map(news => {\n      return React.createElement(\"a\", {\n        className: \"list-group-item\",\n        key: news.digest,\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(NewsCard, {\n        news: news,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }));\n    });\n    return React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"list-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, news_list));\n  }\n\n  render() {\n    if (this.state.news) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, this.renderNews());\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"msg-app-loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Loading...\"));\n    }\n  }\n\n}\n\nexport default NewsPanel;","map":{"version":3,"sources":["/Users/litianlun/Projects/News/web_server/client/src/NewsPanel/NewsPanel.js"],"names":["React","NewsCard","NewsPanel","Component","constructor","state","news","componentDidMount","loadMoreNews","e","request","Request","method","cache","mode","fetch","then","res","json","console","log","setState","concat","renderNews","news_list","map","digest","render"],"mappings":";AAAA,OAAO,iBAAP;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,sBAArB;;AAEA,MAAMC,SAAN,SAAwBF,KAAK,CAACG,SAA9B,CAAwC;AACpCC,EAAAA,WAAW,GAAG;AACV;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,IAAI,EAAE;AAAP,KAAb;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,YAAL;AACH;;AAEDA,EAAAA,YAAY,CAACC,CAAD,EAAI;AACZ,QAAIC,OAAO,GAAG,IAAIC,OAAJ,CAAY,4BAAZ,EAA0C;AACpDC,MAAAA,MAAM,EAAE,KAD4C;AAEpDC,MAAAA,KAAK,EAAE,UAF6C;AAGpDC,MAAAA,IAAI,EAAE;AAH8C,KAA1C,CAAd;AAMAC,IAAAA,KAAK,CAACL,OAAD,CAAL,CACKM,IADL,CACWC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADnB,EAEKF,IAFL,CAEWV,IAAD,IAAU;AACZa,MAAAA,OAAO,CAACC,GAAR,CAAYd,IAAZ;AACA,WAAKe,QAAL,CAAc;AACVf,QAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,IAAX,GAAiB,KAAKD,KAAL,CAAWC,IAAX,CAAgBgB,MAAhB,CAAuBhB,IAAvB,CAAjB,GAAgDA;AAD5C,OAAd;AAGH,KAPL;AAQH;;AAEDiB,EAAAA,UAAU,GAAG;AACT,UAAMC,SAAS,GAAG,KAAKnB,KAAL,CAAWC,IAAX,CAAgBmB,GAAhB,CAAoBnB,IAAI,IAAI;AAC1C,aACI;AAAG,QAAA,SAAS,EAAC,iBAAb;AAA+B,QAAA,GAAG,EAAEA,IAAI,CAACoB,MAAzC;AAAiD,QAAA,IAAI,EAAC,GAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,QAAD;AAAU,QAAA,IAAI,EAAEpB,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ;AAKH,KANiB,CAAlB;AAQA,WACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKkB,SADL,CADJ,CADJ;AAOH;;AAEDG,EAAAA,MAAM,GAAG;AACL,QAAG,KAAKtB,KAAL,CAAWC,IAAd,EAAoB;AAChB,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKiB,UAAL,EADL,CADJ;AAKH,KAND,MAMO;AACH,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,CADJ;AAOH;AACJ;;AA7DmC;;AAgExC,eAAerB,SAAf","sourcesContent":["import \"./NewsPanel.css\";\nimport React from 'react';\nimport NewsCard from '../NewsCard/NewsCard';\n\nclass NewsPanel extends React.Component {\n    constructor() {\n        super();\n        this.state = {news: null};\n    }\n\n    componentDidMount() {\n        this.loadMoreNews();\n    }\n\n    loadMoreNews(e) {\n        let request = new Request('http://localhost:3000/news', {\n            method: 'GET',\n            cache: \"no-store\",\n            mode: \"no-cors\"\n        });\n\n        fetch(request)\n            .then((res) => res.json())\n            .then((news) => {\n                console.log(news);\n                this.setState({\n                    news: this.state.news? this.state.news.concat(news) : news,\n                })\n            })\n    }\n\n    renderNews() {\n        const news_list = this.state.news.map(news => {\n            return(\n                <a className='list-group-item' key={news.digest} href='#'>\n                    <NewsCard news={news} />\n                </a>\n            );\n        });\n\n        return (\n            <div className='container-fluid'>\n                <div className='list-group'>\n                    {news_list}\n                </div>\n            </div>\n        )\n    }\n\n    render() {\n        if(this.state.news) {\n            return (\n                <div>\n                    {this.renderNews()}\n                </div>\n            );\n        } else {\n            return (\n                <div>\n                    <div id='msg-app-loading'>\n                        Loading...\n                    </div>  \n                </div>\n            );\n        }\n    }\n}\n\nexport default NewsPanel;"]},"metadata":{},"sourceType":"module"}